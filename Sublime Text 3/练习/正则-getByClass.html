<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<script>
		//原始版getByClass,若是某一个元素有两个class就没办法成功选择到
		function getByClass(oParent, sClass){
			var aEle = oParent.getElementsByTagName('*');
			var aResult = [];

			var re = new RegExp('\\b'+sClass+'\\b','i');
			//sClass是一个完整的单词

			var i=0;
			for(i=0; i<aEle.length; i++){
				//if(aEle[i].className == sClass){
				//if(aEle[i].className.search(sClass) != -1){ //包含的就会被选中，abox也会被选中，但abox和box完全是两个class
				if( re.test(aEle[i].className) ){	
					aResult.push(aEle[i]);
				}
			}
			return aResult;
		}

		window.onload = function(){
			var oUl= document.getElementById('ul1');
			var aBox = getByClass(oUl, 'box');

			var i=0;
			for(i=0; i<aBox.length; i++){
				aBox[i].style.background = 'red';
			}
		}



	</script>
</head>
<body>
	<ul id="ul1">
		<li></li>
		<li class="abox"></li>
		<li class="box active"></li>
		<li class="box"></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
</body>
</html>